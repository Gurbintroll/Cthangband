<html>
<head>
    <link rel="stylesheet" type="text/css" href="manual.css">
</head>
<body>
    <h1>The History of the Game</h1>
    <p>
        Cthangband was originally written as a variant (that's a rather archaic term - these days most people would call it a 'mod')
        of an existing game called Angband. That game in turn is the sequel to an earlier game called Moria; and Moria is a remake
        of an even older game called Rogue. You may have heard of 'Roguelike' games? Well Rogue is the original game that those
        games are 'like'.
    </p>
    <p>The history of all those games and how each was developed into the next is detailed below.</p>
    <p>
        Angband has an incredibly complex history, and is the result of a lot of work by a lot of people, all of whom
        have contributed their time and energy for free, being rewarded only by the pleasure of keeping alive one of the
        best freeware games available anywhere.
    </p>
    <p>
        The version control files, if they existed, would span almost forty years, and more than six different primary
        developers. Without such files, we must rely on simpler methods, such as change logs, source file diffs, and word
        of mouth. Some of this information is summarised below, but many details are lost in history:
    </p>
    <p>Note that much of this history was written years or even decades ago. Most of the email addresses and URLs that it contains are no longer valid, but they have been left in for posterity.</p>
    <h2>Rogue</h2>
    <div class=side><p>In the beginning (well, 1980) there was Rogue. The following was written by Glenn Wichman, one of its authors...</p></div>
    <p>
        For those of you who weren’t involved with computers back in 1980, a little background is going to be necessary.
        Let me set the scene. The main home computers at this time were the Atari 400/800, the Commodore 64,
        and the Apple II (No Macintosh, and hardly any IBM PC’s at the time).
        At computer labs in universities, most students used “dumb terminals” connected to some kind of mainframe
        or minicomputer. These terminals had no graphics capabilities.
    </p>
    <p>Programs would just output text, which would scroll off the screen and disappear.</p>
    <p>
        A popular game on college computers at the time was a text-only role playing game called “Adventure”.
        The computer would print out a textual description of your surroundings, and you would respond by typing
        in a command telling what your character should do, e.g. “go west” or “pick up bird”.
    </p>
    <p>
        Around this time at U.C.Berkeley, a student named Ken Arnold (I’m sure there were others involved as well)
        put together a library of routines which allowed programs to do “cursor addressing”, which means the programs
        could put a character at a specific location on the computer screen. There were still no real “graphics”,
        but now you could use letters, numbers, and symbols to simulate pictures. The library of software routines
        was called “curses”.
    </p>
    <p>
        As this package began to make the rounds to other universities, it was picked up by a couple of students
        in Santa Cruz, California, Michael Toy & myself, Glenn Wichman. We both enjoyed playing “Adventure”
        (Michael had long ago mastered the program; I kept getting killed but enjoyed it anyway).
    </p>
    <p>
        Being a creative pair, we immediately set about seeing what kind of fun we could have with the new curses
        library. After fooling around with a couple simple games, we considered whether we could use this package
        to do a “graphical” adventure game. Once we decided it could be done, things moved forward pretty quickly.
        I was still a novice “C” programmer, so Michael did most of the actual programming of the original version
        (I pretty much learned “C” by looking over his shoulder as he wrote). The ideas in the game came from both
        of us. The name “Rogue” was my idea.
    </p>
    <p>
        One of the things we wanted to do was create a game we could enjoy playing ourselves. Most of the existing
        adventure-type games had “canned” adventures -- they were exactly the same every time you played, and of course
        the programmers had to invent all of the puzzles, and therefore would always know how to beat the game.
        We decided that with Rogue, the program itself should “build the dungeon”, giving you a new adventure every time
        you played, and making it possible for even the creators to be surprised by the game.
    </p>
    <p>
        We had a playable game, without all the features yet (e.g., no armor), when Michael transferred to
        U.C. Berkeley, where he met up with Ken Arnold. For a while, we each moved forward with our own versions of the
        game, him in Berkeley and me in Santa Cruz. This proved to be too difficult to keep up logistically,
        so I just let Michael & Ken take over Rogue development completely. To this day, there are a lot of folks
        who think of it as Michael & Ken’s game.
    </p>
    <p>
        Rogue’s move to Berkeley was fortuitous. U.C. Berkeley was the home of a particularly popular version of
        UNIX called BSD (Berkeley Standard Distribution). Version 4.2 of BSD UNIX included Rogue -- suddenly,
        the game was available on university computers all over the world. At the time, there was no other game like it.
        Over the next 3 years, Rogue became the undisputed most popular game on college campuses.
    </p>
    <p>
        Soon, Michael & I each left school for the professional world. I was working at a Silicon Valley start-up,
        and Michael got a job working for Olivetti in Italy, where he met Jon Lane, who would become the fourth member
        of the Rogue Band.
    </p>
    <p>
        After returning from Italy, Michael & Jon started their own company called A.I.Design. One of their first
        projects was to “port” Rogue from UNIX to the IBM PC. For awhile, they packaged & sold this game on their own.
        I was not really involved during this period.
    </p>
    <p>
        Michael Toy was one of the very first people to buy a Macintosh computer. Soon, a Mac version of Rogue was
        underway. I got back involved in the project -- I did the graphic design for Mac Rogue in exchange for a used
        Macintosh computer.
    </p>
    <p>
        Meanwhile, Michael & Jon tired of trying to market Rogue on their own, so they got together with an established
        computer game company called “Epyx”, who took over the marketing & packaging of the game. At this point, I came
        to work for A.I.Design.
    </p>
    <p>
        Once Epyx was involved, we decided to do versions of the game for the Amiga and the Atari ST. Michael wrote
        the Amiga version, and I wrote the Atari ST version. Unfortunately, although Rogue had been wildly popular
        on college mainframes, commercial success eluded us. Epyx went bankrupt, Atari ST’s and Amiga’s faded away,
        and the computer gaming world became a much more sophisticated place, where a little game like Rogue no
        longer fit in. Still, although the versions of Rogue that we wrote are almost impossible to find anymore,
        Rogue and its decendants live on, and shareware versions of Roguelike games are available for just about
        every computer platform.
    </p>
    <p>
        Just like watching those old, black & white, silent movies can teach us about how Cinema got to where it
        is today, looking at old games like Adventure and Rogue can help us understand how computer gaming evolved.
        Rogue is generally credited with being the first “graphical” adventure game, and it probably was at least one
        of the first (Wizardry could probably also make the claim). And its graphics have since been far surpassed by
        everything from Myst to Doom. But I think Rogue’s biggest contribution, and one that still stands out to this
        day, is that the computer itself generated the adventure in Rogue. Every time you played, you got a new
        adventure. That’s really what made it so popular for all those years in the early eighties.
    </p>
    <h2>Moria</h2>
    <div class=side><p>The next step in development was the game Moria, by Robert Alan Koeneke. The following is his words...</p></div>
    <p>
        I had some email show up asking about the origin of Moria, and its relation to Rogue. So I thought I would
        just post some text on the early days of Moria.
    </p>
    <p>
        First of all, yes, I really am the Robert Koeneke who wrote the first Moria. I had a lot of mail accussing
        me of pulling their leg and such. I just recently connected to Internet (yes, I work for a company in the
        dark ages where Internet is concerned) and was real surprised to find Moria in the news groups...
        Angband was an even bigger surprise, since I have never seen it. I probably spoke to its originator though...
        I have given permission to lots of people through the years to enhance, modify, or whatever as long as they
        freely distributed the results. I have always been a proponent of sharing games, not selling them.
    </p>
    <p>Anyway...</p>
    <p>
        Around 1980 or 81 I was enrolled in engineering courses at the University of Oklahoma. The engineering
        lab ran on a PDP 1170 under an early version of UNIX.
    </p>
    <p>
        I was always good at computers, so it was natural for me to get to know the system administrators.
        They invited me one night to stay and play some games, an early startrek game, The Colossal Cave Adventure
        (later just ‘Adventure’), and late one night, a new dungeon game called ‘Rogue’.
    </p>
    <p>
        So yes, I was exposed to Rogue before Moria was even a gleam in my eye. In fact, Rogue was directly
        responsible for millions of hours of play time wasted on Moria and its descendents...
    </p>
    <p>
        Soon after playing Rogue (and man, was I HOOKED), I got a job in a different department as a student
        assistant in computers. I worked on one of the early VAX 11/780’s running VMS, and no games were available
        for it at that time. The engineering lab got a real geek of an administrator who thought the only purpose
        of a computer was WORK!
    </p>
    <p>Imagine... Soooo, no more games, and no more rogue!</p>
    <p>
        This was intolerable! So I decided to write my own rogue game, Moria Beta 1.0. I had three languages
        available on my VMS system. Fortran IV, PASCAL V1.?, and BASIC. Since most of the game was string manipulation,
        I wrote the first attempt at Moria in VMS BASIC, and it looked a LOT like Rogue, at least what I could
        remember of it. Then I began getting ideas of how to improve it, how it should work differently, and I
        pretty much didn’t touch it for about a year.
    </p>
    <p>
        Around 1983, two things happened that caused Moria to be born in its recognizable form. I was engaged
        to be married, and the only cure for THAT is to work so hard you can’t think about it; and I was enrolled
        for fall to take an operating systems class in PASCAL.
    </p>
    <p>
        So, I investigated the new version of VMS PASCAL and found out it had a new feature. Variable length
        strings! Wow...
    </p>
    <p>
        That summer I finished Moria 1.0 in VMS PASCAL. I learned more about data structures, optimization,
        and just plain programming that summer then in all of my years in school. I soon drew a crowd of devoted
        Moria players... All at OU.
    </p>
    <p>
        I asked Jimmey Todd, a good friend of mine, to write a better character generator for the game, and so
        the skills and history were born. Jimmey helped out on many of the functions in the game as well. This would
        have been about Moria 2.0
    </p>
    <p>
        In the following two years, I listened a lot to my players and kept making enhancements to the game to fix
        problems, to challenge them, and to keep them going. If anyone managed to win, I immediately found out how,
        and ‘enhanced’ the game to make it harder. I once vowed it was ‘unbeatable’, and a week later a friend of mine
        beat it! His character, ‘Iggy’, was placed into the game as ‘The Evil Iggy’, and immortalized...
        And of course, I went in and plugged up the trick he used to win...
    </p>
    <p>
        Around 1985 I started sending out source to other universities. Just before a OU / Texas football clash,
        I was asked to send a copy to the Univeristy of Texas... I couldn’t resist... I modified it so that the begger
        on the town level was ‘An OU football fan’ and they moved at maximum rate. They also multiplied at maximum rate...
        So the first step you took and woke one up, it crossed the floor increasing to hundreds of them and pounded you
        into oblivion... I soon received a call and provided instructions on how to ‘de-enhance’ the game!
    </p>
    <p>
        Around 1986 - 87 I released Moria 4.7, my last official release. I was working on a Moria 5.0 when I left
        OU to go to work for American Airlines (and yes, I still work there). Moria 5.0 was a complete rewrite, and
        contained many neat enhancements, features, you name it. It had water, streams, lakes, pools, with water monsters.
        It had ‘mysterious orbs’ which could be carried like torches for light but also gave off magical aura’s
        (like protection from fire, or aggravate monster...). It had new weapons and treasures... I left it with
        the student assistants at OU to be finished, but I guess it soon died on the vine. As far as I know,
        that source was lost...
    </p>
    <p>
        I gave permission to anyone who asked to work on the game. Several people asked if they could convert it to ‘C’,
        and I said fine as long as a complete credit history was maintained, and that it could NEVER be sold, only given.
        So I guess one or more of them succeeded in their efforts to rewrite it in ‘C’.
    </p>
    <p>
        I have since received thousands of letters from all over the world from players telling about their exploits,
        and from administrators cursing the day I was born... I received mail from behind the iron curtain (while it was
        still standing) talking about the game on VAX’s (which supposedly couldn’t be there due to export laws).
        I used to have a map with pins for every letter I received, but I gave up on that!
    </p>
    <p>
        I am very happy to learn my creation keeps on going... I plan to download it and Angband and play them...
        Maybe something has been added that will surprise me! That would be nice... I never got to play Moria and be
        surprised...
    </p>
    <h2>Umoria</h2>
    <div class=side>
        <p>
            The ‘rewrite in C’ that Robert Alan Koeneke mentions above was done by James E. Wilson. His own story of that
            rewrite follows...
        </p>
    </div>
    <p>
        I started work on Umoria in February 1987. I somehow acquired play testers in April. I don’t recall exactly how,
        but I was at a university, so maybe they saw me playing it on a public terminal and asked for a copy.
        The game slowly spread around the Berkeley area. By November, the game was in good enough shape that I could
        post it to comp.sources.games. I think I was still calling it UNIX Moria then, to distinguish it from the
        original, but the comp.sources.games moderator shortened it to Umoria, and that name has stuck. After the
        comp.sources.games posting, the game was widely available, and things just grew from there. The Usenet
        rec.games.moria group was created sometime around Jan 1, 1988, and was where most of the early discussions
        about it occurred.
    </p>
    <p>
        I originally got involved with Moria because I was tired of playing other games. I spent a lot of time playing
        games such as rogue and hack, and was looking for something different to try. There was a game called UltraRogue
        that I enjoyed playing. Unfortunately, it had some very frustrating bugs, and it was only available as a binary.
        I spent some time investigating the possibilities of trying to decompile it and fix it. Before I got very far,
        I chanced upon a copy of the VMS Pascal Moria sources and quickly decided that porting the sources to Unix was a
        better project than trying to fix UltraRogue. After I gained some fame as the Umoria author, I did manage to get a
        copy of of the UltraRogue sources, but by then it was too late, and I wasn’t sure if I had a legal copy of the
        sources, so I never did anything with them.
    </p>
    <p>
        The original game was written in VAX/VMS Pascal with some VAX/VMS Assembler. I did not have access to a VMS
        machine, and both the Pascal and Assembler code would not work with Unix because of many uses of VMS extensions.
        Since C was a more common language for Unix anyways, I decided to just convert the whole thing to C. Much of the
        initial syntax conversion was done via Emacs macros. Then it was just a matter of tweaking the sources until they
        would compile. The hardest part was finding and fixing all of the off-by-one errors, as Pascal array indexing starts
        at 1, and C array indexing starts at 0. It took me years to find and fix all of the off-by-one errors. I still
        can’t believe how hard it was to find them all. At least, I hope I found them all.
    </p>
    <p>
        Mostly what I remember about the early years of working on Umoria was that it was a good introduction to software
        engineering principles. I had to learn how to deal with bugs, bug fixes, release schedules, making and distributing
        releases, etc. It was just a game, but I learned many valuable lessons about real world software development while
        working on it.
    </p>
    <p>
        One of my favorite moments from my Umoria years is when I got mail from one of the authors of rogue. I recognized
        the name right away, and had to ask. He confirmed that he was one of the rogue authors, and that he was a fan of Umoria.
        That made my day.
    </p>
    <p>The credits in the PC/Windows game Diablo mention that it was inspired in part by Umoria.</p>
    <h2>Angband</h2>
    <div class=side><p>Moria was replaced by Angband. The following text, by an unknown author, is from Angband 3.1.2...</p></div>
    <p>First came “VMS Moria”, by Robert Alan Koeneke (1985).</p>
    <p>Then came “Umoria” (Unix Moria), by James E. Wilson (1989).</p>
    <p>
        In 1990, Alex Cutler and Andy Astrand, with the help of other students at the University of Warwick, created
        Angband 1.0, based on the existing code for Umoria 5.2.1. They wanted to expand the game, keeping or even
        strengthening the grounding in Tolkien lore, while adding more monsters and items, including unique monsters and
        artifact items, plus activation, pseudo-sensing, level feelings, and special dungeon rooms.
    </p>
    <p>
        Over time, Sean Marsh, Geoff Hill, Charles Teague, and others, worked on the source, releasing a copy known as
        “Angband 2.4.frog_knows” at some point, which ran only on Unix systems, but which was ported by various people to
        various other systems. One of the most significant ports was the “PC Angband 1.4” port, for old DOS machines, which
        added color and various other significant changes, only some of which ever made it back into the official source.
    </p>
    <p>
        Then Charles Swiger (cs4w+@andrew.cmu.edu) took over, sometime in late 1993, cleaning up the code, fixing a lot of
        bugs, and bringing together various patches from various people, resulting in several versions of Angband, starting
        with Angband 2.5.1 (?), and leading up to the release of Angband 2.6.1 (and Angband 2.6.2) in late 1994. Some of the
        changes during this period were based on suggestions from the “net”, and from various related games, including
        “UMoria 5.5”, “PC Angband 1.4”, and “FAngband”.
    </p>
    <p>
        Angband 2.6.1 was primarily targetted towards Unix/NeXT machines, and it required the use of the low level “curses”
        commands for all screen manipulation and keypress interaction. Each release had to be ported from scratch to any new
        platforms, normally by creating visual display code that acted as a “curses” emulator. One such port was “Macintosh
        Angband 2.6.1”, by Keith Randall, which added support for color, and which formed the basis for the first release of
        Angband 2.7.0.
    </p>
    <p>
        During the last half of 1994, Ben Harrison had been playing with the Angband source, primarily to investigate the
        possibility of making some kind of automatic player for Angband, like the old “rogue-o-matic” program for the game
        “Rogue”. The difficulty of compiling a version for the Macintosh, and the complexity of the code, prevented this,
        and so Ben began cleaning up the code in various ways for his personal use.
    </p>
    <p>
        In late 1994, Charles Swiger announced that he was starting a real job and would no longer be able to be the Angband
        maintainer. This induced some amount of uproar in the Angband community (as represented by the Angband newsgroup),
        with various people attempting to form “committees” to take over the maintenance of Angband. Since committees have
        never given us anything but trouble (think “COBOL”), there was very little resistance when, on the first day of 1995,
        Ben made his code available, calling it “Angband 2.7.0”, and by default, taking over as the new maintainer of Angband.
    </p>
    <p>
        Angband 2.7.0 was a very clean (but very buggy) rewrite that, among other things, allowed extremely simple porting
        to multiple platforms, starting with Unix and Macintosh, and by the time most of the bugs were cleaned up, in
        Angband 2.7.2, including X11, and various IBM machines. Angband 2.7.4 was released to the “ftp.cis.ksu.edu” site,
        and quickly gained acceptance, perhaps helped by the OS2 and Windows and Amiga and Linux ports. Angband 2.7.5 and
        2.7.6 added important capabilities such as macros and user pref files, and continued to clean up the source.
        Angband 2.7.8 was released to the major ftp archives as the first “stable” version in a year or so, with new
        “help files” and “spoiler files” for the “online help”, plus a variety of minor tweaks and some new features.
    </p>
    <p>
        After Angband 2.7.8 was released, Ben created a web site to keep track of all the changes made in each version
        (though a few may have been missed), and acquired the use of a new development ftp server to supplement the
        official “mirror” server. This web site is now permanently located at the Official Angband Home Page
        (http://www.thangorodrim.net/). Unfortunately, the next six versions were numbered Angband 2.7.9v1 to Angband 2.7.9v6,
        but really each were rather major updates. Angband 2.8.0 and 2.8.1 were released using a more normal version scheme.
        Angband 2.8.2 and 2.8.3 add a few random features, clean up some code, and provide graphics support and such for a
        few more platforms.
    </p>
    <p>
        After the release of Angband 2.8.3 Ben’s free time was more and more occupied by his work. He released a beta
        version of Angband 2.8.5, introducing many new features, but couldn’t give as much attention to maintaining the game
        as he wanted to. Meanwhile, an “unofficial” version by Robert Ruehlmann, incorporating three popular patches
        (the “Easy Patch” by Tim Baker, for opening doors and disarming traps without specifying the direction: Greg Wooledge’s
        “Random Artifacts” patch: and Keldon Jones’s “Optional Monster AI Improvement”), named “2.8.3h”, was gaining
        popularity.
    </p>
    <p>
        So in March 2000, Robert Ruehlmann offered to take over Angband and started to fix the remaining bugs in the
        Angband 2.8.5 beta. The resulting version was to be released as Angband 2.9.0. Further bugfixes and a couple of new
        features -including many in the realms of user-customizability, with greater control over ego-items, player races
        and classes, monsters, items and artifacts - have led to the current version.
    </p>
    <p>
        And with the greater amount of user-customizability that is now possible, it was inevitable that SOMEBODY would
        eventually go and actually do something with it. Jonathan Ellis started customizing the user-editable text files in
        the “edit” directory for his own personal use - originally, only by fixing bugs and inconsistencies (less powerful
        monsters being worth more experience per kill than more powerful ones, dragons doing a decent amount of damage
        in melee, monsters with two claws and one mouth getting one claw and three bite attacks, and so on).
    </p>
    <p>
        At first, this was all that could really be done with it: adding new monsters and items was impossible, as the
        limits were fixed. And so only three new monsters made an appearance, each of them replacing an existing monster in
        the order: and one new artifact - “The Palantir of Westernesse”. Gameplay balance could be tweaked somewhat, by
        changing the level, power and rarity of certain items and monsters: and some changes were made, mostly with the
        attempt to reduce the notorious “triple whammy” effect of needing poison, confusion and nether resistance (or over
        550 hps, if without nether resistance) all at once, straight after passing 2000’, forcing excessive scumming before
        this depth or risking unavoidable instant death: and then having nothing left to do but dive straight to 4000’ and
        scum for speed items, missing out on some of the most interesting depths of the dungeon. This problem, at least,
        could be addressed, but actual new things were less easy to add...
    </p>
    <p>
        That all changed with Angband 2.9.1, which for the first time moved the limits themselves to a separate
        user-editable file, and allowed more monsters and items to be created without removing the old ones. At the same
        time, a patch by Matthias Kurzke was incorporated which allowed the creation of new ego-items.
    </p>
    <p>
        Various new powers, for the player and monsters, were added to the game - but no items or monsters yet had these
        powers (resist fear, poison brand, lose charisma, summon greater demons, and so on): indeed, arguably it could be
        said that the game had not even adjusted properly to Ben Harrison’s fractional speed system (Angband 2.7.0) or the
        addition of the other attack forms such as shards, sound, chaos, nexus and so on (even before Ben.)
    </p>
    <p>
        The Official Angband Home Page (“http://rephial.org/”) serves not only as the most up to date description of
        Angband, but also lists changes made between versions, and changes planned for upcoming versions, and lists various
        email addresses and web sites related to Angband.
    <p>
    <p>Some of the changes between Angband 2.6.1 and 3.0.6</p>
    <p>
        It is very hard to pin down, along the way from 2.6.2 to 3.0.6, exactly what changes were made, and exactly when
        they were made. Most releases involved so many changes from the previous release as to make “diff files” not very
        useful, since often the diff files are as long as the code itself. Most of the changes, with the notable exception
        of the creation of some of the new “main-xxx.c” files for the various new platforms, and a few other minor exceptions
        generally noted directly in comments in the source, were written by Ben or Robert, either spontaneously, or, more
        commonly, as the result of a suggestion or comment by an Angband player.
    </p>
    <p>
        The most important modification was a massive “code level cleanup” for 2.7.x, largely completed in 2.7.8, that
        made all other modifications much simpler and safer. This cleanup was so massive that in many places the code is no
        longer recognizable, for example, via “diff -r”, often because it was rewritten from scratch.
    </p>
    <p>
        The second most important modification was the design of a generic “z-term.c” package, which allows Angband to be
        ported to a new machine with as few as 50 lines of code. Angband 2.9.3 thus runs without modification on many machines,
        including Macintosh, PowerMac, Unix/X11, Unix/Curses, Amiga, Windows, OS2-386, DOS-386, and even DOS-286.
    </p>
    <p>
        It would be difficult to list all of the changes between Angband 2.6.1 and 3.0.6, because many of them were made
        in passing during the massive code level cleanup. Many of the changes are invisible to the user, but still provide
        increased simplicity and efficiency, and decreased code size, or make other more visable changes possible.
        For example, the new “project()” code that handles all bolts, beams, and balls, the new “update_view()” code that
        simplifies line of sight computation, or the new “generate()” code that builds new levels in the dungeon. Many
        changes have been made to increase efficiency, including the new “process_monsters()” and “update_monsters()”
        functions, and the new “objdes()” and “light_spot()” routines. The generic “z-term.c” package yielded efficient
        screen updates, and enabled the efficient use of “color”.
    </p>
    <p>
        The most visible (to ordinary players) changes that happened as a result of Ben Harrison’s maintainership were
        (a) a far greater degree of user-customizability as shown by the info.txt files, (b) the “fractional” speed system,
        with +10 in the new scheme equalling +1 in old money, and (c) object stacking, the ability to have more than one
        object in a square: first tried in 2.7.9, completed in 2.8.2.
    </p>
    <p>
        It should also be pointed out at this point that the far cleaner nature of Ben’s code as compared to previous
        versions has given many other people the opportunity to base code for their own Angband variants on it. And so a
        plethora of new variants have appeared, many of them far more different from Angband now than Angband ever was from
        Moria, and yet still based on Ben’s coding ideals for Angband.
    </p>
    <p>
        For Angband 2.9.0, the first few new visible features were a random artifact generator (originally developed from
        a variant by Greg Wooledge), an option to improve monster AI (believed to have originally started out life in a patch
        written by Keldon Jones), and a patch to allow easier handling of opening and closing doors and disarming traps
        (by Tim Baker). For Angband 2.9.1 has also come such things as the ability to increase the size of the editable
        textfiles and thus the number of monsters, artifacts, items, ego-items and vaults in the game (many new vaults were
        written by Chris Weisiger, some by others, and the number of vaults in the game at this time was doubled), and much
        greater customizability of ego-items has become possible thanks to a patch written by Matthias Kurzke. It is also now
        possible to add new character races to the game, and to edit the shopkeepers with respect to their greed, tolerance
        of haggling and reactions to the character based on his race. Angband 2.9.2 adds support for poison branded weapons
        to the game. Angband 2.9.3 made the character class itself customizable to an extent.
    </p>
    <h2>Zangband</h2>
    <div class=side><p>Zangband was one of the first generation of Angband variants. The following was written by Topi Ylinen, it’s author...</p></div>
    <p>
        The seeds of Zangband lie in an obsolete and long ago vanished PC variant (somewhat misleadingly) dubbed Angband--.
        The variant was written by a hopeless Angband addict (previously Moria veteran and winner) who got bored with the
        standard monsters and wanted to introduce some new monsters.
    </p>
    <p>
        Angband-- was based on the PC Angband 1.31 sources, and it was set in Roger Zelazny’s ‘Amber’ universe. Later this
        individual got a better computer and learned to code, and produced the PC Zangband, and most Angband-- monsters
        survived into PC Zangband 1.0. PC Zangband 1.0 was the first PC Angband to introduce (simple, font- based) graphics,
        which were also used in the graphical PC Angband 1.40. Yet this individual was still not cured of his addiction...
        his almost as strong addiction to the Civilization style fantasy strategy game ‘Master of Magic’ inspired him to
        write a new magic system.
    </p>
    <p>
        The current version of Zangband (2.*) incorporates this magic system, as well as the best features from Angband--
        and PC Zangband 1.0. It is based on the Angband 2.8.1 sources (by Ben Harrison), and is therefore portable to other
        systems (unlike the earlier versions which were for dos-pc’s only).
    </p>
    <p>
        Incidentally, this person (me, Topi Ylinen) also thought that the standard Angband monsters were too easy, which
        led him to introduce such monsters as Death swords, Cyberdemons and Great wyrms of power...
    </p>
    <p>
        Special thanks -- The current version of Zangband might not have come into existence without the significant help
        from these excellent Angband programmers:
    </p>
    <p>
        Ben Harrison, for obvious reasons. Greg Wooledge, who pointed out a bug in the dos compiler, which was preventing
        my progress with the first 2.* version of Zangband. Julian Lighton, who must have sent me more ideas, patches, and
        bug reports, than all the others toghether. Robert Ruehlmann, whose nice new main-ibm.c enables SVGA graphics and
        even windows in ms-dos. Paul Sexton, who is responsible for about 50% of the new code in 2.1.0.
    </p>
    <h2>Cthangband</h2>
    <div class=side>
        <p>
            And now we’ve finally reached Cthangband. The rest of this history is written by Dean Anderson, the author of both
            Cthangband and this manual...
        </p>
    </div>
    <p>
        The author of Cthangband has a long history with Moria and Angband (that’s me, by the way, and it feels funny
        talking about myself in the third person - so I’ll stop now!)
    </p>
    <p>
        My first experience with a “Roguelike” game was in the mid 1980s as a teenager writing a couple of games myself
        in BASIC on the Sinclair ZX Spectrum. I hadn’t heard of Rogue at the time, so I just called them “maze games”.
        However, they had the basic top-down view and pseudo-Dungeons & Dragons fantasy theme as games like Rogue.
    </p>
    <p>
        By 1987 I had gone to the University of Sussex leaving my beloved Speccy at home; and temporarily had no contact
        with computers other than those belonging to the university - which didn’t normally have games on. In my second year,
        I was introduced to two games from other universities that we could run (out of hours) across the JANET network.
        One of them was LPMud from the University of Leicester and the other was Moria from the University of Warwick.
    </p>
    <p>
        I was hooked on Moria straight away and spent many a happy evening - and more than the occasional all-nighter -
        playing it in the university’s computer rooms, although I never finished the game.
    </p>
    <p>
        Unfortunately, I left university in 1990 shortly before the University of Warwick guys released Angband, so I never
        saw the first version of it. After leaving, I didn’t play a roguelike game again for a while until I was given a
        pre-compiled copy of Angband 2.4.frog_knows for my Atari ST by a friend.
    </p>
    <p>
        With my interest rekindled, I played that version of Angband until I was able to complete it - something I’d never
        been able to do with Moria. I also started hacking it. Although I didn’t have the source code (and didn’t know C at
        that time anyway), I went through the file with a hex-editor and reverse-engineered the data structures that held the
        class and monster data. I was able to add an additional class and a few monsters to the game, effectively creating my
        own mini-”variant”.
    </p>
    <p>
        Once I got a PC and an Internet connection at home, a few years later, I was able to update to the latest version
        (one of the 2.7.9 versions) and download the source as well as the compiled code. I became active in the Angband
        online community which was centred around the rec.games.roguelike.angband newsgroup, and over the 2.8.0 to 2.8.5
        era - which was the height of Angband’s popularity, and in which many “Variants” were developed and released and
        I decided to write a variant of my own, having by this time learned how to program in C.
    </p>
    <p>
        I took Zangband 2.1.0 as a base point, as I liked the changes in mechanics that it brought to the game,
        particularly the realms of magic. However, Zangband had far too many ‘silly’ or out-of-genre elements for my liking
        so I set about changing them. In particular, I was not a fan of the Zelazny ‘Amber’ setting that Zangband used,
        and being a big Lovecraft fan I was slightly offended that the Cthuloid entities were overshadowed by so many other
        monsters. I changed the setting to be Lovecraft’s ‘Dreamlands’, and brought the Cthuloid entities to the top of the
        monster list, making them the toughest creatures in the game.
    </p>
    <p>
        After this mainly cosmetic change, I released ‘Cthangband 2.1.0’ to the world, and was surprised to find that
        people liked it and wanted more. So, I wrote the ‘Multiple Town & Dungeon’ system, as it was something that I had
        thought for a long time should be in the game. This, with more changes to the actual system (rather than the cosmetic
        changes of 2.1.0) became ‘Cthangband 3.0.0’.
    </p>
    <p>
        Cthangband 3.0.1 was supposed to be just a ‘bug-fix’ release, however it also incorporated a few extra routines
        that I could not resist putting in (like the ‘Quick-Start’ option) and bits of code that a number of authors had
        added to Angband or Zangband since Cthangband had split off from them.
    </p>
    <p>Cthangband 3.1.0 included a new speed system, as well as various tweaks and updates to the code.</p>
    <p>Cthangband 3.1.1 and 3.1.2 were both bug-fix versions, but (as usual) extra features seem to have sneaked in.</p>
    <p>
        Cthangband 4.0.0 saw more major changes - involving the removal of the entire class/level system and its
        replacement with a level-less skill system.
    </p>
    <p>Cthangband 4.0.1 was mainly a bug-fix version, tweaking the values used in the skill system for play balance.</p>
    <p>
        Cthangband 4.1.0 was another bug-fix release, this time released by another developer, to whom I had passed on the
        maintainership of Cthangband after becoming somewhat disillusioned with what I perceived to be the “failure” of the
        Cthangband 4.x level-less skill system. I realised that I didn’t like the system - it had taken the game too far from
        Angband’s roots.
    </p>
    <h3>An Interlude</h3>
    <p>
        Having passed on the maintainership of Cthangband so someone else, I got a lot less active in the Angband community.
        I still played the game, and - with Cthangband no longer under my ownership - I wrote two more variants. The first
        was Hellband, themed around Dante’s Inferno, which branched off from the Cthangband 3.1.2 code; and the second was
        Yeekband, a simple variant based on a much more recent version of the ‘vanilla’ Angband. While I enjoyed writing both
        of those and have enjoyed playing them, Cthangband was always “my baby” and the one I wanted to return to.
    </p>
    <p>And so I did.</p>
    <h3>Cthangband’s Return</h3>
    <p>
        Cthangband 5.0.0 is a reversion to the 3.1.2 core, and therefore a reversion to the standard class/level system.
        (The observant reader will notice that I’ve changed from the past tense to the present tense here - from this point on
        I’m adding to this document with each new version, rather than writing in retrospect about past versions.) However,
        many of the minor changes that went into Cthangband 4.x (and Hellband and Yeekband) are also included. It is also
        released by me, the original Cthangband author, once more. The person to whom I passed the maintainership never
        released another version after their initial bug-fix version, so after fifteen years of the game lying fallow,
        I’ve taken ownership back (apologies if you’re reading this, David - I would have contacted you but after all this
        time your old contact details and website no longer exist).
    </p>
    <p>
        Cthangband 5.1.0 is an attempt to drag the game, kicking and screaming, into the twenty-first century. Although
        it includes very few gameplay changes (though some have sneaked in, as always), it contains more changes to the source
        code than any previous version. Up until this point, the source code for Cthangband has been kept consistent with that
        of Angband itself. This means that it still contains Ben Harrison’s code for porting the game to multiple systems
        (most of which are now nearly thirty years old) and lots of highly complex code for options - traditionally, every
        version of Angband has included new features, and some people haven’t liked those features, so they’ve been
        implemented as options that can be switched on and off. Consequently, the source for Cthangband has become more and
        more bloated over the decades. It’s full of conditional code and checks for options that no-one ever changes, and
        full of code that is more complex than it needs to be because it needs to be able to work on thirty year old hardware
        that no-one runs it on any more.
    </p>
    <p>
        So the major change to Cthangband 5.1.0 is to rip all that out and simplify the source. I’ve accepted that 99% of
        the world uses PCs running Windows, so the multi-platform code that tied the game in knots is now gone and it is now
        specifically designed to run on Windows (and the small percentage of people who don’t use Windows should be able to
        run it on an emulator such as WINE with no problem). Similarly, the six pages worth of options that all have to be
        catered to in any combination have been ripped out, as has all the conditional code that they required.
    </p>
    <p>
        The game now is what it is, and just because someone didn’t like something twenty to thirty years ago doesn’t mean
        it should still be optional now. In addition, the game no longer runs as if it is a command-line program run from a
        terminal. It no longer closes down after you’ve died, forcing you to re-run it to start a new character, and it no
        longer forces you to run it with different command line options if you want to use a different save file. Now it has
        a proper front end with multiple save slots built in, and you can even do things like changing the screen resolution
        from within the game.
    </p>
    <p>
        Cthangband 6.0.0 is, in some ways, a fresh start. I had long thought that the Angband source code would benefit
        from being more object-oriented and modular, and even as far back as Cthangband 3.0.0 I’d experimented with mixing the
        C code with C++, although such experiments had never made it into the released versions because they made
        compatibility with other Angband variants more fiddly and made porting the code to other systems more difficult.
    </p>
    <p>
        However, with the release of Cthangband 5.1.0 I realised that over the course of nearly two decades both Cthangband
        and “vanilla” Angband had drifted so far apart that there was no longer any compatibility there. So if I was going to
        make that sort of wholesale change to the game, now was the time. Many of the internal system changes that were part
        of 5.1.0 were done explicitly in anticipation of this.
    </p>
    <p>
        I made the decision to switch to C# rather than C++, partly because in my opinion it is a more elegant language
        for a more civilised age, and also because I’ve been using it professionally since it was released and it is the
        language that I am most experienced with.
    </p>
    <p>
        Actually porting the code from C to C# took an immense amount of work over the course of a year. The initial two
        attempts stalled (and fell over and sank into the swamp) because it was such a huge task and there was no sense of
        urgency, but the third attempt was additionally motivated by getting a new version of the game ready for its twentieth
        anniversary, and this time it succeeded. The C# game was finished and playable by myself and by family and friends
        by that deadline; with further playtesting, bugfixing, and documentation being done afterwards before the game was
        ready for public release.
    </p>
    <p>
        Obviously, such a large-scale change (effectively a complete re-write of all 50,000 lines of code) introduced its
        own bugs and minor changes to the way things work, and not all of those are documented in the change log.
    </p>
    <p>
        The two priorities of the language port were firstly to get it working in the new language; and secondly to take
        advantage of the new language to improve the internal structure of the game’s code. Of course, it wouldn’t be a new
        version of an Angband variant if there weren’t some actual game changes snuck in as well.
    </p>
    <p>
        Cthangband 6.1 (the language change means I'm dropping the x.y.z versioning in favour of a simpler x.y system) is
        almost entirely a bugfix version, released shortly after 6.0.0.
    </p>
    <p>
        Cthangband 6.2 is a proper new version rather than just a bugfix version. It started off as a complete overhaul of
        the user-interface, with the ASCII-based user interface being replaced by something that was completely graphical. The
        normal "overhead" view was switched to use graphical tiles and take up the whole screen, with inventory management done
        in the "Tetris" style used in ARPGs. Lighting was changed to be more dynamic (the tiles would be drawn with varying
        hues rather than having different tiles for different light levels). And the entire game would be controlled by mouse
        rather than keyboard; bringing up your inventory or hotbar and right-clicking on items to use them in various ways.
    </p>
    <p>
        I got these changes mostly working, and in doing so made structural changes to the code and changes to the way
        the wilderness and town were generated in order to take advantage of the graphical tile set.
        However, playtesting of these changes (which would have been Cthangband 7.0 if finished) was unsatisfactory. The
        game fell badly between two stools. The new user interface didn't feel like Cthangband, and the static tile based graphics
        weren't enough for it to feel like a modern ARPG.
    </p>
    <p>
        So I abandoned the new user interface and reverted many of the changes back to the 6.1 codebase. However,
        Cthangband 6.2 does keep the new wilderness and town, and keeps the code for animating spell efects (even if the
        animation is now done with ASCII characters rather than graphics).
    </p>
    <p>
        Cthangband 6.3 was supposed to be a simple bugfix version, but during discussions with the person who reported the bug
        they enquired about the possibility of increasing the screen size from 80x25 to something bigger. This wasn't something
        I'd ever considered before, but after a bit of experimenting I discovered that switching to an 80x45 display would mean
        that on a standard widescreen monitor every 'cell' in which a character can be displayed would be perfectly square.
    </p>
    <p>
        Every other change in 6.3 stems from that one decision. The bigger screen meant that the old ASCII-art images used in
        various places no longer fit - so I replaced them with bitmaps. The various text screens (character sheet, journal, etc.)
        now only filled half of the screen's height, so they all needed changing. The dungeon size is tied to the screen size, so
        that needed changing. Shops now no longer needed two pages to display goods. And so forth.
    </p>
    <p>
        In the end, 6.3 *looks* like a huge change compared to earlier versions, but the gameplay is almost identical. The changes
        are all user-interface changes.
    </p>
    <p>
        Cthangband 6.4 is an actual genuine bugfix version. The only changes it introduces are fixes - there are no new features
        in this version.
    </p>
    <p>
        Cthangband 6.5 is a rather relaxed update, in that there weren't a bunch of bugs to fix, and neither was there any specific
        major update that the release was built around. It was just a cumulative collection of around a year's worth of minor tweaks
        that I had implemented in my development version since the release of 6.4.
    </p>
    <p>
        6.6, on the other hand, is similar to 6.3 in that it stems from a specific discussion with a player (actually, my daughter) about some
        of the more random mechanics such as patrons and slime molds that happened as a result of the 6.5 release. That discussion prompted
        a number of small changes that only took a couple of days to implement between them; but I didn't want to release a new version so
        soon after the last one, so I waited a few weeks during which time I updated bits of documentation and did a few miscellanous bugfixes
        and harmless user-interface tweaks.
    </p>
    <p>
        Cthangband 6.7 started as another bugfix version, again fixing specific bugs that had been found by a player. Howver, fixing these bugs
        was only the start, and the update turned into a massive one. Although it's not obvious to the player, there's more behind-the-scenes
        refactoring of code in 6.7 than in any version since the initial switch from C to C#. It also has its fair share of gameplay changes,
        the biggest of which is the introduction of Great Ones (the Dreamlands equivalent of deities) to worship and sacrifice to as the other side
        of the coin to the Great Old Ones and Outer Gods that fanatics and cultists worship. Great Ones have always been a part of the game in
        that you can play one of their offspring sired through mortals, and I'd been toying with the idea of putting in someone for priests to
        be aligned with for a long time.
    </p>
</body>
</html>